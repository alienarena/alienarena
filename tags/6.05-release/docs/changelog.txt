------------------------------------------------------------------------
r100 | irritant | 2007-03-24 09:48:24 -0400 (Sat, 24 Mar 2007) | 1 line

Reverted scoreboard change in team games, cleaned up unused vars in p_hud.c
------------------------------------------------------------------------
r99 | phenax | 2007-03-24 00:25:08 -0400 (Sat, 24 Mar 2007) | 1 line


------------------------------------------------------------------------
r98 | phenax | 2007-03-24 00:24:21 -0400 (Sat, 24 Mar 2007) | 1 line

Now in Trunk instead of source/unix
------------------------------------------------------------------------
r97 | phenax | 2007-03-23 23:53:29 -0400 (Fri, 23 Mar 2007) | 1 line


------------------------------------------------------------------------
r96 | phenax | 2007-03-23 23:52:12 -0400 (Fri, 23 Mar 2007) | 1 line


------------------------------------------------------------------------
r95 | alepulver | 2007-03-23 23:29:27 -0400 (Fri, 23 Mar 2007) | 3 lines

- Restore upper-case names for the BUILDSTRING and CPUSTRING macros in the
  Linux case (sorry, I accidentally used Vim's "u" command when copying).

------------------------------------------------------------------------
r94 | phenax | 2007-03-23 23:27:42 -0400 (Fri, 23 Mar 2007) | 1 line

No need for REALARCH anymore, reverted ARCH
------------------------------------------------------------------------
r93 | alepulver | 2007-03-23 22:28:55 -0400 (Fri, 23 Mar 2007) | 111 lines

Adapt and apply the patches taken from the FreeBSD port:

http://www.freebsd.org/cgi/cvsweb.cgi/ports/games/alienarena/

The changes are detailed below, grouped by file.

Most of the changes unrelated to FreeBSD were taken from quake2lnx.

See the last part of this log for notes about FreeBSD (and Unix in
general) compatibility.

unix/q_shunix.c:
- Add support for FreeBSD.
- Use MAP_ANON instead of MAP_ANONYMOUS since it is more standard.

unix/glw_unix.h:
- Uncomment check for "__linux__" and change into "__unix__".

unix/gl_glx.c:
- Add check for "__linux__" around "<sys/vt.h>".
- Fix non DGA mouse handling.

unix/sys_unix.c:
- Always use "game.so" to avoid problems (there would have to be checks for
  all possible architectures on all possible OSes, and is useless).

unix/snd_unix.c:
- Add check for "__linux__", then include "<linux/soundcard.h>", otherwise use
  "<sys/soundcard.h>".
- Change order of sound initialization operations to make them work fine in
  all cases.

unix/cd_unix.c:
- Add support for FreeBSD.

unix/Makefile:
- Add configurable options.
- Allow overriding configurable options from the environment (e.g. CC can be
  set with "export", because it uses "?=").
- Remove a few unused variables.
- Remove $(ARCH) suffix for files and directories.
- Incorporate CFLAGS and LDFLAGS from the environment.
- Add support for FreeBSD.
- Use "-p" argument to "mkdir" instead of ignoring its errors.
- Rename LINUX_DIR to UNIX_DIR.

server/sv_user.c:
server/sv_main.c:
qcommon/cmd.c:
- Fix possible security vulnerabilities.

win32/sys_win.c:
game/g_local.h:
game/q_shared.c:
game/g_main.c:
game/q_shared.h:
game/p_client.h:
qcommon/files.c:
client/snd_mix.c:
client/cl_ents.c:
client/cl_main.c:
ref_gl/r_main.c:
ref_gl/r_draw.c:
ref_gl/r_local.h:
ref_gl/r_model.c:
ref_gl/r_script.c:
ref_gl/qgl.h:
ref_gl/r_bloom.c:
- Change "__linux__" into "__unix__".

game/acesrc/acebot_items.c:
game/acesrc/acebot_cmds.c:
game/acesrc/acebot_nodes.c:
game/acesrc/acebot_ai.c:
game/acesrc/acebot_movement.c:
game/acesrc/g_fakeclient.c:
- Remove "__linux__" check for using '/' or '\' and use '/' (works in Win).

game/acesrc/acebot_config.c:
game/acesrc/acebot_compress.c:
ref_gl/r_mapscript.cpp:
- Remove "#include <malloc.h>" (since a very long time ago is "<stdlib.h>").

game/acesrc/acebot_spawn.c:
- Remove "__linux__" check for using '/' or '\' and use '/' (works in Win).
- Change "__linux__" into "__unix__".

qcommon/qcommon.h:
- Add case for FreeBSD.
- Change "__linux__" into "__unix__" (when appropiate).

qcommon/common.c:
- Change "__linux__" into "__unix__".
- Fix possible security vulnerabilities.

client/snd_dma.c:
- Fix potential bugs.

game/g_phys.c:
- Dead monsters are not solid - i.e. do not stop movement (from quake2lnx).

Compatibility notes:
- Use "__linux__" just when needed, if it is common to all Unix systems
  use "__unix__" instead.
- Use MAP_ANON instead of MAP_ANONYMOUS.
- It is possible and safe to use '/' in "#include" paths in Windows.
- Use "?=" to assign variables in the Makefile when they are likely to be
  modified by the user.
- Do not replace CFLAGS or LDFLAGS, append to them (i.e. "+=") or include
  them in another variable.

------------------------------------------------------------------------
r92 | phenax | 2007-03-23 22:10:58 -0400 (Fri, 23 Mar 2007) | 1 line

Tune Up Part 2
------------------------------------------------------------------------
r91 | tony | 2007-03-23 21:16:07 -0400 (Fri, 23 Mar 2007) | 2 lines

Removed a missed line of debug

------------------------------------------------------------------------
r90 | tony | 2007-03-23 20:39:53 -0400 (Fri, 23 Mar 2007) | 2 lines

Changes to allow memory allocated during creation of thw inner's podium to be freed at the end of the level

------------------------------------------------------------------------
r89 | tony | 2007-03-23 20:30:13 -0400 (Fri, 23 Mar 2007) | 2 lines

Fix to free memory allocated by winner's podium

------------------------------------------------------------------------
r88 | phenax | 2007-03-23 20:14:49 -0400 (Fri, 23 Mar 2007) | 1 line

Tune up part 1
------------------------------------------------------------------------
r87 | tony | 2007-03-23 20:01:07 -0400 (Fri, 23 Mar 2007) | 2 lines

Smoother camera action when on steps/slopes

------------------------------------------------------------------------
r86 | irritant | 2007-03-23 16:42:54 -0400 (Fri, 23 Mar 2007) | 1 line

Various scoreboard improvements. Other minor cleanups.
------------------------------------------------------------------------
r85 | irritant | 2007-03-23 15:13:55 -0400 (Fri, 23 Mar 2007) | 1 line

Fixed team scoreboard player length - was set at 12(?), now 16.
------------------------------------------------------------------------
r84 | irritant | 2007-03-23 12:31:18 -0400 (Fri, 23 Mar 2007) | 1 line

Re-imported with all the chasecam fixes.
------------------------------------------------------------------------
r83 | irritant | 2007-03-23 12:30:43 -0400 (Fri, 23 Mar 2007) | 1 line


------------------------------------------------------------------------
r82 | irritant | 2007-03-22 23:21:27 -0400 (Thu, 22 Mar 2007) | 1 line

Fixed spectator chase cam bugs!
------------------------------------------------------------------------
r81 | irritant | 2007-03-22 23:16:11 -0400 (Thu, 22 Mar 2007) | 1 line

Fixed spectator chase cam bugs!
------------------------------------------------------------------------
r80 | irritant | 2007-03-22 22:39:39 -0400 (Thu, 22 Mar 2007) | 1 line

Reverted to original nods
------------------------------------------------------------------------
r79 | irritant | 2007-03-22 22:37:02 -0400 (Thu, 22 Mar 2007) | 1 line

Reverted to original nods
------------------------------------------------------------------------
r78 | tony | 2007-03-22 21:26:59 -0400 (Thu, 22 Mar 2007) | 2 lines

Remove deathcam if player changes to spectator after death or disconnects (fixes memory leaks)

------------------------------------------------------------------------
r77 | tony | 2007-03-22 21:15:43 -0400 (Thu, 22 Mar 2007) | 2 lines

Fix mem leak in DeathcamRemove

------------------------------------------------------------------------
r76 | irritant | 2007-03-22 18:34:22 -0400 (Thu, 22 Mar 2007) | 1 line

Reversed some testing on chase cam.
------------------------------------------------------------------------
r75 | irritant | 2007-03-22 18:24:48 -0400 (Thu, 22 Mar 2007) | 1 line

Test of chasecam
------------------------------------------------------------------------
r74 | irritant | 2007-03-22 18:08:57 -0400 (Thu, 22 Mar 2007) | 1 line

Further chasecam tweaks.
------------------------------------------------------------------------
r73 | irritant | 2007-03-22 17:47:42 -0400 (Thu, 22 Mar 2007) | 1 line

Further improvements in the spectator chase cam.
------------------------------------------------------------------------
r72 | irritant | 2007-03-22 16:36:42 -0400 (Thu, 22 Mar 2007) | 1 line

Fixed image for dm-saucer levelshot.
------------------------------------------------------------------------
r71 | irritant | 2007-03-22 16:36:08 -0400 (Thu, 22 Mar 2007) | 1 line

Fixed bumpiness of chasecam in spectator mode.  This was due to an "odd" bit of original id code that made it quite bouncy, by moving the origin of the camera up by 10 units whenever the client being followed left the ground.  It made for a very bumpy ride.
------------------------------------------------------------------------
r70 | irritant | 2007-03-21 23:36:21 -0400 (Wed, 21 Mar 2007) | 1 line


------------------------------------------------------------------------
r69 | phenax | 2007-03-21 22:25:59 -0400 (Wed, 21 Mar 2007) | 1 line


------------------------------------------------------------------------
r68 | phenax | 2007-03-21 22:24:41 -0400 (Wed, 21 Mar 2007) | 1 line

Update to SVN rev 67
------------------------------------------------------------------------
r67 | irritant | 2007-03-19 20:14:54 -0400 (Mon, 19 Mar 2007) | 1 line

Changed default class from human to alien, so that custom player models that servers do not have match their default models.
------------------------------------------------------------------------
r66 | irritant | 2007-03-19 20:14:14 -0400 (Mon, 19 Mar 2007) | 1 line


------------------------------------------------------------------------
r65 | irritant | 2007-03-19 19:06:22 -0400 (Mon, 19 Mar 2007) | 1 line

New map, dm-saucer added.
------------------------------------------------------------------------
r64 | irritant | 2007-03-13 23:00:42 -0400 (Tue, 13 Mar 2007) | 1 line

Changed default class from human to alien, so that custom player models that servers do not have match their default models.
------------------------------------------------------------------------
r63 | tony | 2007-03-13 18:16:56 -0400 (Tue, 13 Mar 2007) | 1 line

Updated with new maps (did refer to old maps that no longer are supplied with the game)
------------------------------------------------------------------------
r62 | tony | 2007-03-13 18:11:23 -0400 (Tue, 13 Mar 2007) | 1 line

Updated with generic welcome message
------------------------------------------------------------------------
r61 | phenax | 2007-03-13 17:20:14 -0400 (Tue, 13 Mar 2007) | 1 line

Update to SVN Rev 60
------------------------------------------------------------------------
r60 | irritant | 2007-03-13 16:53:37 -0400 (Tue, 13 Mar 2007) | 1 line

Further work done on classbased mutator.  Made Quad a factor in Instagib.
------------------------------------------------------------------------
r59 | irritant | 2007-03-13 16:43:18 -0400 (Tue, 13 Mar 2007) | 1 line

Further work done on classbased mutator.  Made Quad a factor in Instagib.
------------------------------------------------------------------------
r58 | irritant | 2007-03-13 10:35:48 -0400 (Tue, 13 Mar 2007) | 1 line

Adds class based settings for blood, and mutator.  Fixes missing ip blocking code for ip banning.
------------------------------------------------------------------------
r57 | irritant | 2007-03-13 10:21:00 -0400 (Tue, 13 Mar 2007) | 1 line


------------------------------------------------------------------------
r56 | phenax | 2007-03-12 17:25:13 -0400 (Mon, 12 Mar 2007) | 1 line

Update to SVN rev 55
------------------------------------------------------------------------
r55 | irritant | 2007-03-12 16:31:00 -0400 (Mon, 12 Mar 2007) | 1 line

Removed reference to "min"
------------------------------------------------------------------------
r54 | irritant | 2007-03-12 14:55:36 -0400 (Mon, 12 Mar 2007) | 1 line

Added Jitspoe's weapon distortion code for high FOV's.
------------------------------------------------------------------------
r53 | phenax | 2007-03-11 22:24:11 -0400 (Sun, 11 Mar 2007) | 1 line

fixed black line in monitors taller than 4:3
------------------------------------------------------------------------
r52 | phenax | 2007-03-10 17:16:09 -0500 (Sat, 10 Mar 2007) | 1 line


------------------------------------------------------------------------
r51 | phenax | 2007-03-10 17:16:03 -0500 (Sat, 10 Mar 2007) | 1 line

Added simple install
------------------------------------------------------------------------
r50 | phenax | 2007-03-10 17:08:54 -0500 (Sat, 10 Mar 2007) | 1 line


------------------------------------------------------------------------
r49 | irritant | 2007-03-10 15:49:12 -0500 (Sat, 10 Mar 2007) | 1 line

Fixed overflow errors in server browser.
------------------------------------------------------------------------
r48 | phenax | 2007-03-09 15:47:11 -0500 (Fri, 09 Mar 2007) | 1 line

Updated to revision 47
------------------------------------------------------------------------
r47 | irritant | 2007-03-09 13:08:08 -0500 (Fri, 09 Mar 2007) | 1 line

Updated to include the new changes for 3/09, server browser, team bug fixes, vid menu changes, cvar fixes.
------------------------------------------------------------------------
r46 | irritant | 2007-03-09 12:34:49 -0500 (Fri, 09 Mar 2007) | 1 line

Fix potential crashes in team servers.
------------------------------------------------------------------------
r45 | irritant | 2007-03-09 12:34:32 -0500 (Fri, 09 Mar 2007) | 1 line

Fix potential crashes in team servers.
------------------------------------------------------------------------
r44 | irritant | 2007-03-09 12:22:04 -0500 (Fri, 09 Mar 2007) | 1 line

Change scoreboards in TDM and TCA to use the Team board.
------------------------------------------------------------------------
r43 | irritant | 2007-03-09 10:46:58 -0500 (Fri, 09 Mar 2007) | 1 line

Reworking of in-game server browser.
------------------------------------------------------------------------
r42 | phenax | 2007-03-09 01:11:07 -0500 (Fri, 09 Mar 2007) | 1 line

Updated to SVN rev. 41
------------------------------------------------------------------------
r41 | phenax | 2007-03-09 01:09:21 -0500 (Fri, 09 Mar 2007) | 1 line

Change menu entry for gl_finish and add gl_swapinterval
------------------------------------------------------------------------
r40 | phenax | 2007-03-08 20:09:31 -0500 (Thu, 08 Mar 2007) | 1 line

Updated to SVN rev. 38
------------------------------------------------------------------------
r39 | phenax | 2007-03-08 20:08:33 -0500 (Thu, 08 Mar 2007) | 1 line

Updated to SVN rev. 38
------------------------------------------------------------------------
r38 | phenax | 2007-03-08 20:07:57 -0500 (Thu, 08 Mar 2007) | 1 line


------------------------------------------------------------------------
r37 | phenax | 2007-03-08 19:57:04 -0500 (Thu, 08 Mar 2007) | 1 line

Added CVAR_ARCHIVE for cl_maxfps and backround_music
------------------------------------------------------------------------
r36 | phenax | 2007-03-07 18:05:29 -0500 (Wed, 07 Mar 2007) | 1 line

i486, i586, i686 must be set to i386
------------------------------------------------------------------------
r35 | phenax | 2007-03-07 17:36:10 -0500 (Wed, 07 Mar 2007) | 1 line

Back to i386
------------------------------------------------------------------------
r34 | irritant | 2007-03-07 17:05:43 -0500 (Wed, 07 Mar 2007) | 1 line

Removed file/folder
------------------------------------------------------------------------
r33 | irritant | 2007-03-07 17:04:35 -0500 (Wed, 07 Mar 2007) | 1 line


------------------------------------------------------------------------
r32 | phenax | 2007-03-07 16:57:20 -0500 (Wed, 07 Mar 2007) | 1 line


------------------------------------------------------------------------
r31 | phenax | 2007-03-07 16:52:25 -0500 (Wed, 07 Mar 2007) | 1 line

Change ARCH to x86, general term
------------------------------------------------------------------------
r30 | phenax | 2007-03-07 16:48:25 -0500 (Wed, 07 Mar 2007) | 1 line

Set else ARCH to i686
------------------------------------------------------------------------
r26 | tony | 2007-03-07 16:36:54 -0500 (Wed, 07 Mar 2007) | 1 line

First commit
------------------------------------------------------------------------
r25 | irritant | 2007-03-07 12:15:32 -0500 (Wed, 07 Mar 2007) | 1 line

Post 6.04 windows binaries
------------------------------------------------------------------------
r24 | irritant | 2007-03-07 12:14:11 -0500 (Wed, 07 Mar 2007) | 1 line

Current MSVC 6.0 project file
------------------------------------------------------------------------
r23 | irritant | 2007-03-07 12:13:53 -0500 (Wed, 07 Mar 2007) | 1 line

Current MSVC 6.0 project file
------------------------------------------------------------------------
r22 | irritant | 2007-03-07 01:17:32 -0500 (Wed, 07 Mar 2007) | 1 line

New weapon effects, code cleanup(phase 1).  
------------------------------------------------------------------------
r21 | irritant | 2007-03-07 00:31:10 -0500 (Wed, 07 Mar 2007) | 1 line

Defaults gamedir to "arena" if no gamedir is set on startup.
------------------------------------------------------------------------
r20 | irritant | 2007-03-07 00:28:21 -0500 (Wed, 07 Mar 2007) | 1 line

New weapon effects, code cleanup(phase 1).  
------------------------------------------------------------------------
r19 | irritant | 2007-03-07 00:27:35 -0500 (Wed, 07 Mar 2007) | 1 line

New weapon effects, code cleanup(phase 1).  
------------------------------------------------------------------------
r17 | phenax | 2007-03-06 00:48:12 -0500 (Tue, 06 Mar 2007) | 1 line


------------------------------------------------------------------------
r16 | phenax | 2007-03-04 11:04:14 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r15 | phenax | 2007-03-04 11:03:13 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r14 | phenax | 2007-03-04 01:49:45 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r13 | phenax | 2007-03-04 01:49:14 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r12 | phenax | 2007-03-04 01:33:30 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r11 | phenax | 2007-03-04 01:32:53 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r10 | phenax | 2007-03-04 01:30:11 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r9 | phenax | 2007-03-04 00:18:30 -0500 (Sun, 04 Mar 2007) | 1 line


------------------------------------------------------------------------
r8 | phenax | 2007-03-04 00:17:28 -0500 (Sun, 04 Mar 2007) | 1 line

Change q_shlinux.c to q_shunix.c
------------------------------------------------------------------------
r7 | phenax | 2007-03-03 23:33:02 -0500 (Sat, 03 Mar 2007) | 1 line


------------------------------------------------------------------------
r6 | phenax | 2007-03-03 23:28:04 -0500 (Sat, 03 Mar 2007) | 1 line

Why did we set the port in there?
------------------------------------------------------------------------
r5 | phenax | 2007-03-03 23:26:20 -0500 (Sat, 03 Mar 2007) | 1 line


------------------------------------------------------------------------
r4 | phenax | 2007-03-03 20:15:27 -0500 (Sat, 03 Mar 2007) | 1 line

Added -ggdb to debugging cflags
------------------------------------------------------------------------
r3 | phenax | 2007-03-03 20:13:13 -0500 (Sat, 03 Mar 2007) | 1 line

EGCS is not in use anymore
------------------------------------------------------------------------
r2 | root | 2007-03-03 18:43:03 -0500 (Sat, 03 Mar 2007) | 1 line

Initial import.
------------------------------------------------------------------------
r1 | root | 2007-03-03 18:40:21 -0500 (Sat, 03 Mar 2007) | 1 line

Building initial svn repo structure...
------------------------------------------------------------------------
